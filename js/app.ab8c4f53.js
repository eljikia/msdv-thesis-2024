(function(e){function t(t){for(var o,n,r=t[0],i=t[1],l=t[2],p=0,u=[];p<r.length;p++)n=r[p],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(u.length)u.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],o=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(o=!1)}o&&(c.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},s={app:0},c=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/msdv-thesis-2024/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=i;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0e5b":function(e,t,a){e.exports=a.p+"img/rent.619adecc.svg"},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const s={key:0,class:"app"},c={class:"vacancy-map-container"};function n(e,t,a,n,r,i){const l=Object(o["resolveComponent"])("MapScrollytelling"),d=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[i.isOfficeMapActive?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("div",{class:"hero hero-office",style:Object(o["normalizeStyle"])({opacity:r.isOfficeVisible?1:0})},null,4),Object(o["createElementVNode"])("div",{class:"hero hero-living",style:Object(o["normalizeStyle"])({opacity:r.isOfficeVisible?0:1})},null,4)])),Object(o["createElementVNode"])("div",c,[i.isMapScrollytellingVisible?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d)])],64)}var r=a("ea28"),i=a.n(r),l=a("0e5b"),d=a.n(l),p=a("88cb"),u=a.n(p);const b=Object(o["createElementVNode"])("div",{id:"comparison-container",style:{position:"relative",height:"100vh"}},[Object(o["createElementVNode"])("div",{id:"before",class:"map"}),Object(o["createElementVNode"])("div",{id:"after",class:"map"})],-1),m={class:"scrollytelling-container",style:{"overflow-y":"auto"}},h=Object(o["createStaticVNode"])('<div class="step step-1"><div class="step-content"><img src="'+i.a+'" alt="Housing Burden" class="scroll-svg" id="burden-svg"></div></div><div class="step step-2"><div class="step-content"><img src="'+d.a+'" alt="Rent Vacancy" class="scroll-svg" id="rent-svg"></div></div><div class="step step-3"><div class="step-content"><h2>At the same time, office real estate is struggling with high vacancy rates.</h2></div></div><div class="step step-3.2"><div class="step-content"><img src="'+u.a+'" alt="CoY" class="scroll-svg" id="coy-svg"></div></div>',4),f={class:"step step-4"},y={class:"step-content"},g=Object(o["createElementVNode"])("h2",null,"Explore how the offices can be converted into affordable homes.",-1);function v(e,t,a,s,c,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[b,Object(o["createElementVNode"])("div",m,[h,Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("div",y,[g,Object(o["createElementVNode"])("button",{onClick:t[0]||(t[0]=(...e)=>n.exploreMap&&n.exploreMap(...e))},"Explore Map")])])])])}var O=a("e192"),j=a.n(O),V=a("e9bb"),E=a.n(V),M=a("6605");const S={class:"office-map-page"},N={class:"map-container",id:"office-map"},w={class:"results-box-overlay"};function k(e,t,a,s,c,n){const r=Object(o["resolveComponent"])("OfficeMap"),i=Object(o["resolveComponent"])("Calculator");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[Object(o["createElementVNode"])("div",N,[Object(o["createVNode"])(r,{onUpdateRba:n.updateRba},null,8,["onUpdateRba"]),Object(o["createVNode"])(i,{rba:c.rba,class:"calculator-overlay"},null,8,["rba"]),Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(e.resultsText),1)])])])}const B=e=>(Object(o["pushScopeId"])("data-v-a8001fd4"),e=e(),Object(o["popScopeId"])(),e),C={class:"app"},L={key:0,class:"suggestions"},A=["onClick"],x={class:"toggle-switch"},R=B(()=>Object(o["createElementVNode"])("span",{class:"label"},"1960",-1)),P={class:"switch"},I=B(()=>Object(o["createElementVNode"])("span",{class:"slider round"},null,-1)),T=B(()=>Object(o["createElementVNode"])("span",{class:"label"},"1990",-1)),_={class:"map-container",ref:"mapContainer"};function F(e,t,a,s,c,n){const r=Object(o["resolveComponent"])("Methodology");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",C,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.searchAddress=e),onInput:t[1]||(t[1]=(...e)=>n.fetchSuggestions&&n.fetchSuggestions(...e)),placeholder:"Enter address or neighborhood",class:"search-box"},null,544),[[o["vModelText"],c.searchAddress]]),c.addressSuggestions.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",L,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.addressSuggestions,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,onClick:t=>n.selectAddress(e)},Object(o["toDisplayString"])(e.place_name),9,A))),128))])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("button",{onClick:t[2]||(t[2]=(...t)=>e.searchAndFlyToAddress&&e.searchAndFlyToAddress(...t)),class:"flyto-button"},"Search"),Object(o["createElementVNode"])("button",{onClick:t[3]||(t[3]=(...e)=>n.goBackToStory&&n.goBackToStory(...e)),class:"story-button"},"BACK TO STORY"),Object(o["createElementVNode"])("button",{onClick:t[4]||(t[4]=(...e)=>n.toggleMethodology&&n.toggleMethodology(...e)),class:"method-button"},"?"),Object(o["createVNode"])(r,{isVisible:c.showMethodologyPopup,onClose:t[5]||(t[5]=e=>c.showMethodologyPopup=!1)},null,8,["isVisible"]),Object(o["createElementVNode"])("div",x,[R,Object(o["createElementVNode"])("label",P,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>c.yearFilterChecked=e),onChange:t[7]||(t[7]=(...e)=>n.toggleYearFilter&&n.toggleYearFilter(...e))},null,544),[[o["vModelCheckbox"],c.yearFilterChecked]]),I]),T]),Object(o["createElementVNode"])("div",_,null,512)])}a("13d5");var D=a("369b"),U=a.n(D);a("ac6d");const $={key:0,class:"methodology-modal"},z=Object(o["createStaticVNode"])('<div class="methodology" data-v-57c1b5c4><h2 data-v-57c1b5c4>Project Methodology</h2><p data-v-57c1b5c4> This web application evaluates the feasibility of converting Class B and C buildingsâ€”identified with a vacancy rate over 15% into new and affordable housing units using a Residual Land Value (RLV) model. <br data-v-57c1b5c4>Source: CoStar, 2023 </p><ul data-v-57c1b5c4><li data-v-57c1b5c4><strong data-v-57c1b5c4>Inputs:</strong> Adjust sliders for square footage, affordable housing percentage, <a href="https://www.nyc.gov/site/hpd/services-and-information/area-median-income.page" target="_blank" data-v-57c1b5c4>AMI level</a>, and subsidies.</li><li data-v-57c1b5c4><strong data-v-57c1b5c4>Outputs:</strong> Displays potential units and affordability.</li><li data-v-57c1b5c4><strong data-v-57c1b5c4>Real-time Processing:</strong> Immediate updates to results upon input adjustments.</li><li data-v-57c1b5c4><strong data-v-57c1b5c4> Calculations:</strong> Calculations involve taxes, revenue potential, costs, and subsidies to estimate ROI and feasibility.</li><li data-v-57c1b5c4><strong data-v-57c1b5c4> Limitations:</strong> Results are approximations and should not be considered definitive. Market conditions and external factors can influence the actual outcomes.</li><li data-v-57c1b5c4><strong data-v-57c1b5c4> Developer:</strong> Developed by Elene Jikia M.S. Data Visualization Thesis, Parsons New School for Design, 2024</li></ul><p data-v-57c1b5c4><strong data-v-57c1b5c4>Contact:</strong> For further questions you may reach out to elene@newschool.edu </p></div>',1);function Y(e,t,a,s,c,n){return a.isVisible?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$,[Object(o["createElementVNode"])("button",{class:"closebutton",onClick:t[0]||(t[0]=(...e)=>n.closePopup&&n.closePopup(...e))},"X"),z])):Object(o["createCommentVNode"])("",!0)}var H={name:"Methodology",props:{isVisible:{type:Boolean,required:!0}},methods:{closePopup(){this.$emit("close")}}},J=(a("594e"),a("6b0d")),q=a.n(J);const W=q()(H,[["render",Y],["__scopeId","data-v-57c1b5c4"]]);var Z=W,Q={name:"App",components:{Methodology:Z},data(){return{searchAddress:"",addressSuggestions:[],showMethodologyPopup:!1,map:null,currentYearFilter:1961,yearFilterChecked:!1,transitioning:!1,popup:new j.a.Popup({closeButton:!1,closeOnClick:!1})}},props:{isVisible:Boolean},methods:{toggleMethodology(){this.showMethodologyPopup=!this.showMethodologyPopup},closePopup(){this.$emit("close")},goBackToStory(){this.$router.push("/home")},toggleYearFilter(){this.transitioning=!0,setTimeout(()=>{this.currentYearFilter=this.yearFilterChecked?1991:1961,this.loadAndParseCSV(),this.transitioning=!1},500)},loadAndParseCSV(){U.a.parse("/msdv-thesis-2024/buildingclasses_new.csv",{download:!0,header:!0,skipEmptyLines:!0,complete:e=>{const t=e.data.filter(e=>{const t=parseInt(e["Year Built"],10);return!isNaN(t)&&t<this.currentYearFilter});this.populateMapWithMarkers(t)}})},populateMapWithMarkers(e){this.map.getSource("buildings")&&(this.map.removeLayer("buildings"),this.map.removeSource("buildings"));const t=e.map(e=>({type:"Feature",properties:{address:e["Property Address"],yearBuilt:parseInt(e["Year Built"],10),RBA:parseFloat(e["RBA"])},geometry:{type:"Point",coordinates:[parseFloat(e.Longitude),parseFloat(e.Latitude)]}}));this.map.addSource("buildings",{type:"geojson",data:{type:"FeatureCollection",features:t}}),this.map.addLayer({id:"buildings",type:"circle",source:"buildings",paint:{"circle-radius":["interpolate",["linear"],["zoom"],15,["step",["get","RBA"],2,1e4,4,5e4,5,1e5,9,5e5,12,1e6,14],18,["step",["get","RBA"],3,1e4,5,5e4,7,1e5,15,5e5,20,1e6,25]],"circle-color":["case",["<",["get","yearBuilt"],1961],"#870058",[">=",["get","yearBuilt"],1961],"#36a39e","#ccc"],"circle-opacity":.3}})},handleHover(e){const t=e.features[0].geometry.coordinates.slice(),a=e.features[0].properties,o=`<strong>Address:</strong> ${a.address}<br><strong>Year Built:</strong> ${a.yearBuilt}<br><strong>Total Square Feet:</strong> ${a.RBA}`;this.popup.setLngLat(t).setHTML(o).addTo(this.map)},calculateAndUpdateRBA(){const e=this.map.getBounds(),t=[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()],a={type:"Polygon",coordinates:[[[t[0],t[1]],[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]]},o=this.map.queryRenderedFeatures({layers:["buildings"],filter:["all",["within",a]]}),s=o.reduce((e,t)=>e+t.properties.RBA,0);console.log("Total RBA in current viewport:",s),this.$emit("update-rba",s)},fetchSuggestions(){if(!this.searchAddress.trim())return void(this.addressSuggestions=[]);const e="-74.25909,40.477399,-73.700181,40.917576",t=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(this.searchAddress)}.json?access_token=${j.a.accessToken}&autocomplete=true&limit=5&bbox=${e}`;fetch(t).then(e=>e.json()).then(e=>{this.addressSuggestions=e.features}).catch(e=>{console.error("Error fetching suggestions:",e),this.addressSuggestions=[]})},selectAddress(e){this.searchAddress=e.place_name,this.addressSuggestions=[];const t=/\d/.test(e.place_name),a=t?20:16;this.map.flyTo({center:e.center,zoom:a,essential:!0})}},mounted(){j.a.accessToken="pk.eyJ1IjoiZWppa2lhIiwiYSI6ImNsbnhmcHhpdzBmamQycW11MTh0YTd5cDEifQ.3DLLa5EJ3mIiwzPdd02nPg",this.map=new j.a.Map({container:this.$refs.mapContainer,style:"mapbox://styles/mapbox/light-v10",center:[-73.927218,40.728628],zoom:10.6,minZoom:10}),this.map.on("load",()=>{this.loadAndParseCSV()}),this.map.on("mouseenter","buildings",e=>{this.map.getCanvas().style.cursor="pointer",this.handleHover(e)}),this.map.on("mouseleave","buildings",()=>{this.map.getCanvas().style.cursor="",this.popup.remove()}),this.map.on("moveend",this.calculateAndUpdateRBA),this.map.on("zoomend",this.calculateAndUpdateRBA)},beforeUnmount(){this.map.off("moveend",this.calculateAndUpdateRBA),this.map.off("zoomend",this.calculateAndUpdateRBA)}};a("f9ed");const G=q()(Q,[["render",F],["__scopeId","data-v-a8001fd4"]]);var K=G;const X={class:"calculator-overlay"},ee={key:0,class:"results-box"},te={class:"stats-container"},ae={class:"stat"},oe={class:"unitnumber"},se=Object(o["createElementVNode"])("span",{class:"label"},"UNITS PRODUCED",-1),ce={class:"stat"},ne={class:"affnumber"},re=Object(o["createElementVNode"])("span",{class:"label"},"AFFORDABLE",-1),ie={key:1,class:"noresults-box"},le=Object(o["createElementVNode"])("span",{class:"no-units"},"0",-1),de=Object(o["createElementVNode"])("br",null,null,-1),pe=Object(o["createElementVNode"])("span",{class:"conversion-notfeasible"},"CONVERSION NOT FEASIBLE",-1),ue=Object(o["createElementVNode"])("br",null,null,-1),be=Object(o["createElementVNode"])("span",{class:"adjust-sliders"},"ADJUST SLIDERS",-1),me=[le,de,pe,ue,be],he={class:"calculator"},fe=Object(o["createElementVNode"])("label",{for:"rbaInput"},"Total Selected Square Footage: ",-1),ye={for:"occupancy"},ge={for:"amiLevel"},ve=["max"],Oe={for:"subsidy"};function je(e,t,a,s,c,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",X,[null!==c.rlv&&c.rlv>=250?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ee,[Object(o["createElementVNode"])("div",te,[Object(o["createElementVNode"])("div",ae,[Object(o["createElementVNode"])("span",oe,Object(o["toDisplayString"])(n.potentialNewUnits),1),se]),Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("span",ne,Object(o["toDisplayString"])(n.affordableUnits),1),re])])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie,me)),Object(o["createElementVNode"])("div",he,[fe,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formattedRba=e),id:"rbaInput",type:"text",placeholder:"Enter RBA value",style:{"font-family":"'Barlow Condensed', sans-serif","font-weight":"400","font-size":"15pt"}},null,512),[[o["vModelText"],n.formattedRba]]),Object(o["createElementVNode"])("label",ye,"Percent Affordable: "+Object(o["toDisplayString"])(c.selectedOccupancy)+"%",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"range",id:"occupancy","onUpdate:modelValue":t[1]||(t[1]=e=>c.selectedOccupancy=e),min:"0",max:"100",step:"5"},null,512),[[o["vModelText"],c.selectedOccupancy]]),Object(o["createElementVNode"])("label",ge,"AMI Level: "+Object(o["toDisplayString"])(n.selectedAmiLabel),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"range",id:"amiLevel","onUpdate:modelValue":t[2]||(t[2]=e=>c.amiIndex=e),min:0,max:n.amiLabels.length-1,step:"1"},null,8,ve),[[o["vModelText"],c.amiIndex]]),Object(o["createElementVNode"])("label",Oe,"Subsidy: $"+Object(o["toDisplayString"])(c.subsidy)+" million",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"range",id:"subsidy","onUpdate:modelValue":t[3]||(t[3]=e=>c.subsidy=e),min:"0",max:"1000",step:"10"},null,512),[[o["vModelText"],c.subsidy]])])])}var Ve={name:"Calculator",props:{rba:Number},data(){return{rlv:null,localRba:0,selectedOccupancy:0,amiIndex:0,subsidy:1,rents:[],amiLevels:[]}},watch:{rba(e){this.localRba=e,this.calculateRLV()},localRba(){this.calculateRLV()},selectedOccupancy(e){this.calculateRLV(),this.updateSliderColor("occupancy",e)},amiIndex(e){this.calculateRLV(),this.updateSliderColor("amiLevel",e)},subsidy(e){this.calculateRLV(),this.updateSliderColor("subsidy",e)}},created(){this.fetchRents()},computed:{amiLabels(){return this.rents.length>0?Object.keys(this.rents[0]).filter(e=>e.includes("% AMI")):[]},selectedAmiLabel(){return this.amiLabels[this.amiIndex]||""},rent(){let e=this.rents.find(e=>e.FIELD1===this.selectedOccupancy+".00%");return e?e[this.selectedAmiLabel]:null},potentialNewUnits(){return null!==this.rlv&&this.rlv>=250?Math.floor(this.localRba/920):0},affordableUnits(){return Math.floor(this.potentialNewUnits*(this.selectedOccupancy/100))},formattedRba:{get(){return this.localRba.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},set(e){this.localRba=parseInt(e.replace(/,/g,""),10)||0}}},methods:{async fetchRents(){try{const e=await fetch("rents.json");this.rents=await e.json()}catch(e){console.error("Failed to load rents:",e)}},calculateRLV(){if(!this.rent)return;const e=128*this.localRba*.1227,t=.8*this.localRba*this.rent,a=.95*t*.75-e,o=a/.055+1e6*this.subsidy,s=366*this.localRba*1.1,c=.2*s*1.1,n=.95*t*.15,r=.1*(s+c),i=.05*s,l=s+c+n+r+i;this.rlv=(o-l)/this.localRba},updateSliderColor(e,t){let a=1e3,o=t/a*100;"occupancy"===e?a=100:"amiLevel"===e&&(a=this.amiLabels.length-1),o=t/a*100;const s=`linear-gradient(to right, #fcd581 ${o}%, #ddd ${o}%)`;document.documentElement.style.setProperty(`--${e}-slider-track-color`,s)}},mounted(){this.updateSliderColor("occupancy",this.selectedOccupancy),this.updateSliderColor("amiLevel",this.amiIndex),this.updateSliderColor("subsidy",this.subsidy)}};a("cf10");const Ee=q()(Ve,[["render",je]]);var Me=Ee,Se={components:{OfficeMap:K,Calculator:Me},data(){return{rba:0}},methods:{updateRba(e){this.rba=e}}};a("c733");const Ne=q()(Se,[["render",k]]);var we=Ne;const ke=Object(M["a"])({history:Object(M["b"])(),routes:[{path:"/officemap",component:we,name:"OfficeMap"},{path:"/home",component:Pe,name:"Home"},{path:"/methodology",component:Z,name:"Methodology"}]});var Be=ke,Ce={name:"IntegratedMapScrollytelling",data(){return{beforeMap:null,afterMap:null,mapCompare:null}},mounted(){this.$nextTick(()=>{this.initializeMaps(),this.addCustomSliderBox(),this.setupHtmlLabels()})},methods:{initializeMaps(){j.a.accessToken="pk.eyJ1IjoiZWppa2lhIiwiYSI6ImNsbnhmcHhpdzBmamQycW11MTh0YTd5cDEifQ.3DLLa5EJ3mIiwzPdd02nPg",this.beforeMap=new j.a.Map({container:"before",style:"mapbox://styles/mapbox/light-v10",center:[-73.977218,40.748628],zoom:10,minZoom:9}),this.afterMap=new j.a.Map({container:"after",style:"mapbox://styles/mapbox/light-v10",center:[-73.977218,40.748628],zoom:10,minZoom:9}),this.beforeMap.on("load",()=>{this.setupHtmlLabels()}),Promise.all([new Promise(e=>this.beforeMap.on("load",e)),new Promise(e=>this.afterMap.on("load",e))]).then(async()=>{await this.loadAndMergeGeoJSON(),this.setupCompare()})},async loadAndMergeGeoJSON(){try{const e=await fetch("/msdv-thesis-2024/vacancy_data.geojson"),t=await e.json(),a=await fetch("/msdv-thesis-2024/Borough Boundaries.geojson"),o=await a.json();o.features.forEach(e=>{const a=t.features.find(t=>t.properties.name===e.properties.boro_name);a&&(e.properties.vacancy_before=a.properties.vacancy_before,e.properties.vacancy_after=a.properties.vacancy_after)}),this.setupMapLayers(this.beforeMap,o,"vacancy_before"),this.setupMapLayers(this.afterMap,o,"vacancy_after")}catch(e){console.error("Error loading or merging GeoJSON data:",e)}},setupMapLayers(e,t,a){e.getLayer("previousLayer")&&e.moveLayer("vacancy-labels","previousLayer"),e.addSource("borough-data",{type:"geojson",data:t}),e.addLayer({id:a+"-layer",type:"fill",source:"borough-data",paint:{"fill-color":["interpolate",["linear"],["get",a],0,"#ffffcc",10,"#800026"],"fill-opacity":.75}})},setupHtmlLabels(){const e={type:"FeatureCollection",features:[{type:"Feature",properties:{vacancy_before:8.3,vacancy_after:14.2},geometry:{type:"Point",coordinates:[-73.9712,40.7831]}},{type:"Feature",properties:{vacancy_before:7.31,vacancy_after:14.89},geometry:{type:"Point",coordinates:[-73.9442,40.6782]}},{type:"Feature",properties:{vacancy_before:6.66,vacancy_after:8.15},geometry:{type:"Point",coordinates:[-73.8648,40.8448]}},{type:"Feature",properties:{vacancy_before:.52,vacancy_after:3.31},geometry:{type:"Point",coordinates:[-73.7949,40.7282]}},{type:"Feature",properties:{vacancy_before:3.3,vacancy_after:6.9},geometry:{type:"Point",coordinates:[-74.1502,40.5795]}}]};e.features.forEach(e=>{const t=document.createElement("div");t.className="custom-label",t.textContent=` ${e.properties.vacancy_before}%`,new j.a.Marker(t).setLngLat(e.geometry.coordinates).addTo(this.beforeMap)}),e.features.forEach(e=>{const t=document.createElement("div");t.className="custom-label",t.textContent=` ${e.properties.vacancy_after}%`,new j.a.Marker(t).setLngLat(e.geometry.coordinates).addTo(this.afterMap)})},setupCompare(){this.mapCompare=new E.a(this.beforeMap,this.afterMap,"#comparison-container",{mousemove:!0,orientation:"vertical"});const e=document.querySelector(".mapboxgl-compare-slider");e.addEventListener("mousemove",()=>{const t=e.getBoundingClientRect().left,a=this.beforeMap.getContainer().getBoundingClientRect(),o=t>a.left,s=t<a.right;this.beforeMap.setLayoutProperty("vacancy_before-label","visibility",o?"visible":"none"),this.afterMap.setLayoutProperty("vacancy_after-label","visibility",s?"visible":"none")})},exploreMap(){console.log("Button clicked!"),Be.push("/officemap").catch(e=>{console.error("Router error:",e)})}}};a("64da");const Le=q()(Ce,[["render",v]]);var Ae=Le,xe={name:"App",components:{MapScrollytelling:Ae},data(){return{rba:0,isOfficeVisible:!0}},mounted(){setInterval(()=>{this.isOfficeVisible=!this.isOfficeVisible},11e3)},methods:{updateRba(e){this.rba=e},scrollToMap(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleScroll(){const e=window.scrollY||window.pageYOffset,t=window.innerHeight,a=Math.max(0,Math.min(1,e/t)),o=document.querySelector(".hero-office"),s=document.querySelector(".hero-living");o.style.opacity=1-a,s.style.opacity=a}},computed:{isMapScrollytellingVisible(){return"/officemap"!==this.$route.path},isOfficeMapActive(){return"/officemap"===this.$route.path}}};a("fc42");const Re=q()(xe,[["render",n]]);var Pe=Re,Ie=a("c3a1");a("7437");Object(o["createApp"])(Pe).use(Be).use(Ie["a"]).mount("#app")},"594e":function(e,t,a){"use strict";a("a1a6")},"64da":function(e,t,a){"use strict";a("d870")},"7b7e":function(e,t,a){},"88cb":function(e,t,a){e.exports=a.p+"img/coy.a8c2dd5b.svg"},"9aba":function(e,t,a){},a1a6:function(e,t,a){},b884:function(e,t,a){},c583:function(e,t,a){},c733:function(e,t,a){"use strict";a("c583")},cf10:function(e,t,a){"use strict";a("b884")},d870:function(e,t,a){},ea28:function(e,t,a){e.exports=a.p+"img/burden.f28339d8.svg"},f9ed:function(e,t,a){"use strict";a("9aba")},fc42:function(e,t,a){"use strict";a("7b7e")}});
//# sourceMappingURL=app.ab8c4f53.js.map